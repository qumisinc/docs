---
title: "Release 2026-02-04"
description: "Production deployment - Onboarding v2, workflow progress tracking, legal citations option, Chameleon analytics, and docs authentication"
icon: "rocket"
noindex: true
---

<Info>
  **Deployment Date:** February 4, 2026

  **Deployed By:** Engineering Team

  **Previous Deployment:** January 29, 2026 (API/Web), January 15, 2026 (LLM Service)
</Info>

<Badge color="blue" size="sm">API</Badge> <Badge color="green" size="sm">Web</Badge> <Badge color="purple" size="sm">LLM Service</Badge>

## What's New

- **Onboarding v2** — guided walkthrough for new users with database-persisted progress
- **Report progress tracking** — real-time status updates during report generation
- **Legal citations option** — toggle legal references in Policy Fact Analysis reports
- **Chameleon analytics** — product analytics for user behavior insights
- **Docs authentication** — seamless OAuth access to docs.qumis.ai
- **Feature flag system** — controlled rollouts without redeployment
- **Improved checklist detection** — better nested list and hierarchy detection
- **Credits system updates** — renamed billing labels and configurable credit charging
- 10 bug fixes and 6 improvements

This is a significant release spanning all three services. Users get a **completely redesigned onboarding experience** that guides new sign-ups through their first report, **real-time workflow progress tracking** so they can see exactly what's happening during report generation, and a **new legal citations option** for Policy Fact Analysis reports. Behind the scenes, we've added **Chameleon analytics** for product insights, **OAuth-based docs authentication** so users access documentation seamlessly, and a **feature flag system** for controlled rollouts.

<CardGroup cols={2}>
  <Card title="7 New Features" icon="sparkles" color="#10b981" href="#features">
    Onboarding, progress tracking, legal citations, analytics, docs auth, and more
  </Card>
  <Card title="10 Bug Fixes" icon="bug" color="#f59e0b" href="#bug-fixes">
    Lambda timeouts, scrolling, PDF viewer, seat management, and bundling issues
  </Card>
  <Card title="6 Improvements" icon="chart-line" color="#3b82f6" href="#improvements">
    Help center links, configurable credits, logging, and error handling
  </Card>
  <Card title="183 Files Changed" icon="code" color="#8b5cf6" href="#technical-details">
    <span style={{color: '#22c55e'}}>**+54,581**</span> / <span style={{color: '#ef4444'}}>**-1,817**</span> lines
  </Card>
</CardGroup>

---

## Features

<Accordion title="9 features" defaultOpen>

### Onboarding v2

New users now see a guided 7-step walkthrough when they first sign in, taking them from profile setup all the way through generating their first report — with a confetti celebration at the end.

- **Step-by-step guidance** through the platform: name entry, role selection, use case preferences, AI experience level, workflow selection, and document upload
- **Database-persisted progress** — users can close the browser and resume exactly where they left off (previously stored in localStorage)
- **Mandatory completion** — the app blocks access to other features until onboarding is finished, ensuring every new user understands the core workflow
- **First report celebration** with confetti animation when the user views their first completed report

**Linear:** [ENG-1465](https://linear.app/qumis/issue/ENG-1465)

### Report Progress Tracking

Users can now see exactly what's happening while their report generates — a live progress indicator shows each processing phase in real time instead of a generic loading spinner.

- **Live workflow steps** displayed during report generation with status indicators (in-progress, completed, failed)
- **Human-readable phase names** (e.g., "Analyzing documents", "Extracting data", "Generating insights") instead of internal step identifiers
- **Deduplication of consecutive steps** to keep the progress view clean
- **Completion and failure states** with clear visual feedback
- **New WorkflowStep model and API** — the LLM Service reports progress back to the API via `POST /v1/reports/:id/workflow_steps`, enabling real-time frontend updates via polling

**Linear:** [ENG-1517](https://linear.app/qumis/issue/ENG-1517), [ENG-1518](https://linear.app/qumis/issue/ENG-1518)

### Field Name Hierarchy in Checklists

Nested checklist fields now display their full parent hierarchy, making it easier to understand where a field sits in complex insurance documents.

- Nested fields show parent names with visual hierarchy indicators (e.g., "Location > Building > Address")
- Clearer visual structure for deeply nested insurance form data
- Improved column alignment and list instance grouping in checklist tables

**Linear:** [ENG-1518](https://linear.app/qumis/issue/ENG-1518)

### Legal Citations Option for Policy Fact Analysis

Users can now choose whether to include legal citations when generating a Policy Fact Analysis report — the default flow is faster without them, while the full flow adds detailed legal references.

- **Default flow (no legal citations)** skips the legal research steps for faster report generation
- **Optional flow with legal citations** adds detailed legal references for comprehensive analysis
- Report layout and sections remain identical across both flows — the only difference is the inclusion of legal citation data
- Users select the option via a new toggle in the report generation UI

**Linear:** [ENG-1574](https://linear.app/qumis/issue/ENG-1574)

### Chameleon Analytics Integration

We've integrated Chameleon to better understand how users navigate the platform and identify friction points in workflows.

- Product analytics tracking for user behavior and navigation patterns
- Chameleon user identification via hashed UIDs from the API
- Controlled via feature flags — can be enabled/disabled per environment without deployment
- Foundation for future in-app tours and product tours

**Linear:** [ENG-1387](https://linear.app/qumis/issue/ENG-1387)

### Docs Authentication via OAuth

Users authenticated with the Qumis app now access docs.qumis.ai seamlessly — no separate login required.

- **OAuth 2.0 flow** with Qumis API as the identity provider, integrated into Mintlify's authentication system
- **Seamless experience** — users already logged into app.qumis.ai are automatically authenticated on docs
- **Group-based access control** — internal engineering docs (like these release notes) are restricted to `@qumis.ai` employees
- Post-login redirect support ensures users return to the exact docs page they were trying to access

**Linear:** [ENG-1531](https://linear.app/qumis/issue/ENG-1531)

### Feature Flag System

New infrastructure for conditional UI rendering, enabling controlled rollouts of features to specific environments or user groups.

- Beta feature flag system for toggling UI features (billing flow, signup flow, Chameleon) without redeployment
- Flags defined in configuration and checked at render time
- Foundation for gradual rollouts and A/B testing

**Linear:** [ENG-1574](https://linear.app/qumis/issue/ENG-1574)

### Improved Checklist Detection

The Coverage Table workflow now detects nested lists, repeatable sections, and complex hierarchies in insurance templates much more accurately.

- **Heuristic-based schema detection** — automatically identifies list fields from template patterns like "Location 1", plural names ("Scheduled Locations"), and indented hierarchies
- **Recursive nested list discovery** — handles deeply nested structures (e.g., Location > Building > Coverage) with proper parent-child relationships
- **Pre-distillation for batch inference** — new agents for document distillation and insights before schema detection
- **List preservation in distillation** — ensures numbered/bulleted lists survive the document processing pipeline
- Supports both annotated templates (with `[]` markers) and un-annotated templates (with numbered instances like "Location 1", "Building 1")

**Linear:** [ENG-1484](https://linear.app/qumis/issue/ENG-1484)

### Credits System Updates

Subscription billing terminology has been updated from "reports" to "credits" throughout the app, with improved visibility and configurability.

- **Renamed labels** — "total reports accessible" is now "Subscribed Credits"; "monthly total reports" is now "monthly_total_credits"
- **Trial end indicator** moved to a more prominent location near the notification bell
- **Credit charging is now configurable** — can be toggled on/off via the `CREDIT_USAGE_ENABLED` environment variable (defaults to disabled)
- **Database-backed credit config** — credit cost mapping moved from hardcoded service logic into the database for easier configurability
- **Updated pricing page** with clearer monthly vs. yearly plan comparison

**Linear:** [ENG-1502](https://linear.app/qumis/issue/ENG-1502)

</Accordion>

---

## Bug Fixes

<Accordion title="10 bug fixes" defaultOpen>

### Chat and Report Scrolling

Fixed vertical scroll not working properly in chat messages and report panels — content would get stuck or jump unexpectedly.

**Linear:** [ENG-1579](https://linear.app/qumis/issue/ENG-1579)

### Edge Browser Scrolling

Added manual scroll handling for Edge browser where default scroll events were not bubbling correctly on chat, history, and workflow pages.

### Vault Document Preview

Fixed eye icon click in the document vault not opening the preview — caused by PDF.js worker not being configured globally.

**Linear:** [ENG-1536](https://linear.app/qumis/issue/ENG-1536)

### Seat Management in Admin Portal

Admin portal now shows the seat management UI even when an organization has 0 seats configured — previously the edit controls were hidden entirely.

**Linear:** [PSC-28](https://linear.app/qumis/issue/PSC-28)

### Proposal Generation

Fixed "service unavailable" error when generating proposals.

**Linear:** [ENG-1501](https://linear.app/qumis/issue/ENG-1501)

### Lambda Function Timeouts

Refactored the analysis callback endpoint to return 200 OK immediately and process data asynchronously via Sidekiq. Previously, long-running sync operations (Typesense indexing, ActionCable broadcasts, DB updates) caused the callback sender to time out after 5+ minutes.

**Linear:** [ENG-1493](https://linear.app/qumis/issue/ENG-1493)

### esbuild Bundling Crash

Removed `@opentelemetry/*` packages from the esbuild external list — they were not available in the Lambda runtime, causing `ERR_MODULE_NOT_FOUND` crashes during Lambda cold starts.

**Linear:** [ENG-1581](https://linear.app/qumis/issue/ENG-1581)

### Report Type Versioning

Fixed handling of different report type versions in the LLM Service to ensure the correct workflow is selected for policy fact analysis with and without legal citations.

**Linear:** [ENG-1574](https://linear.app/qumis/issue/ENG-1574)

### Search Indexing Memory

Added configurable text truncation for Typesense indexing (via `TRUNCATE_TYPESENSE` env var) to prevent OUT_OF_MEMORY errors on large documents.

### Callback Data Serialization

Fixed symbol/string key mismatches in callback data by adding `deep_stringify_keys` before enqueueing to Sidekiq.

</Accordion>

---

## Improvements

<Accordion title="6 improvements" defaultOpen>

### Help Center Link

All links to `help.qumis.ai` now redirect to `docs.qumis.ai` and open in a new tab.

**Linear:** [ENG-1571](https://linear.app/qumis/issue/ENG-1571)

### Configurable Credit Charging

Credit usage can be toggled via `CREDIT_USAGE_ENABLED` environment variable, defaulting to disabled for controlled rollout.

### Workflow Benchmarking

New timing and performance tracking for report generation workflow steps, enabling monitoring of processing bottlenecks.

### Large Callback Warnings

API now logs warnings when callback request payloads exceed the 6MB Lambda response limit, helping catch data size issues before they cause failures.

### Chat Scrollbar UX

Enhanced scrollbar visibility and smooth scrolling behavior in chat panels.

### Report Loading Polish

Improved font weights, spacing, and visual feedback during report generation loading states.

</Accordion>

---

## Technical Details

<Accordion title="3 sections" defaultOpen>

### Services Deployed

| Service | Commit | Files | Lines Changed |
|---------|--------|-------|---------------|
| API | `b2cce9d` | 57 | +2,848 / -397 |
| Web | `ecace62` | 68 | +3,580 / -519 |
| LLM Service | `27ae3fb` | 58 | +48,153 / -901 |

**Previous deployment:** January 29, 2026 (API/Web), January 15, 2026 (LLM Service)

<Note>
  LLM Service includes test fixtures and generated schema files, accounting for the high line count.
</Note>

### Pull Requests (18 total)

**API (5 PRs)**
| PR | Description |
|----|-------------|
| [#324](https://github.com/qumisinc/qumis-api/pull/324) | Make credit usage configurable via environment variable |
| [#320](https://github.com/qumisinc/qumis-api/pull/320) | Chameleon analytics integration with hashed UID |
| [#319](https://github.com/qumisinc/qumis-api/pull/319) | Stripe billing updates — rename fields, credit config to DB |
| [#317](https://github.com/qumisinc/qumis-api/pull/317) | Fix Lambda timeout — move callbacks to Sidekiq + add workflow steps API |
| [#311](https://github.com/qumisinc/qumis-api/pull/311) | Onboarding v2 — database persistence, step tracking, API endpoints |

**Web (10 PRs)**
| PR | Description |
|----|-------------|
| [#461](https://github.com/qumisinc/qumis-web/pull/461) | Feature flag system for billing and signup flow toggles |
| [#460](https://github.com/qumisinc/qumis-web/pull/460) | Chat scrollbar visibility and smooth scrolling |
| [#459](https://github.com/qumisinc/qumis-web/pull/459) | Legal citations toggle for Policy Fact Analysis reports |
| [#457](https://github.com/qumisinc/qumis-web/pull/457) | Help center links redirected to docs.qumis.ai |
| [#453](https://github.com/qumisinc/qumis-web/pull/453) | Fix PDF.js worker config for vault document preview |
| [#451](https://github.com/qumisinc/qumis-web/pull/451) | Chameleon analytics integration |
| [#449](https://github.com/qumisinc/qumis-web/pull/449) | Fix Edge browser scroll issues on chat, history, and workflow pages |
| [#446](https://github.com/qumisinc/qumis-web/pull/446) | Field name hierarchy display and workflow progress UI |
| [#445](https://github.com/qumisinc/qumis-web/pull/445) | Stripe billing — rename labels, trial indicator, pricing page |
| [#444](https://github.com/qumisinc/qumis-web/pull/444) | Onboarding v2 — full guided flow with step persistence |

**LLM Service (3 PRs)**
| PR | Description |
|----|-------------|
| [#84](https://github.com/qumisinc/llm-service/pull/84) | Fix esbuild bundling — remove OpenTelemetry from externals |
| [#83](https://github.com/qumisinc/llm-service/pull/83) | Report type versioning for legal citations option |
| [#77](https://github.com/qumisinc/llm-service/pull/77) | Template schema detection — heuristic detection, recursive nesting, pre-distillation |

### Related Linear Tickets

**Major Features:**
- [ENG-1465](https://linear.app/qumis/issue/ENG-1465) — Onboarding v2: guided walkthrough with database persistence
- [ENG-1517](https://linear.app/qumis/issue/ENG-1517) — Workflow steps tracking from LLM Service to API
- [ENG-1518](https://linear.app/qumis/issue/ENG-1518) — Field name hierarchy display in checklist tables
- [ENG-1484](https://linear.app/qumis/issue/ENG-1484) — Template schema detection improvements for Coverage Table
- [ENG-1574](https://linear.app/qumis/issue/ENG-1574) — Legal citations option and feature flag system
- [ENG-1387](https://linear.app/qumis/issue/ENG-1387) — Chameleon analytics integration
- [ENG-1531](https://linear.app/qumis/issue/ENG-1531) — Docs OAuth authentication via Mintlify
- [ENG-1502](https://linear.app/qumis/issue/ENG-1502) — Credits system and Stripe billing updates

**Bug Fixes:**
- [ENG-1579](https://linear.app/qumis/issue/ENG-1579) — Chat and report vertical scroll issues
- [ENG-1536](https://linear.app/qumis/issue/ENG-1536) — Vault eye icon / PDF.js worker fix
- [PSC-28](https://linear.app/qumis/issue/PSC-28) — Admin portal seat management when seats is 0
- [ENG-1493](https://linear.app/qumis/issue/ENG-1493) — Lambda function timeout on analysis callbacks
- [ENG-1501](https://linear.app/qumis/issue/ENG-1501) — Proposal generation service unavailable
- [ENG-1581](https://linear.app/qumis/issue/ENG-1581) — esbuild bundling crash from OpenTelemetry externals

**Improvements:**
- [ENG-1571](https://linear.app/qumis/issue/ENG-1571) — Help center link to docs.qumis.ai

</Accordion>
